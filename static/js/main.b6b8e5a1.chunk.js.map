{"version":3,"sources":["dogs-resnet18.onnx","img/motivational-leo-v1.png","img/motivational-leo-v2.png","components/DropzoneIcon.js","components/DropImageCard.js","components/classes.js","components/Scorecard.js","components/Predictions.js","components/ModelDemo.js","components/App.js","reportWebVitals.js","index.js","components/utils.js"],"names":["useStyles","makeStyles","icon","width","height","color","fileLoaded","isDragActive","classes","className","card","position","display","alignItems","justifyContent","marginBottom","canvas","zIndex","input","DropImageCard","setFile","canvasRef","onDrop","useCallback","acceptedFiles","length","console","log","file","type","startsWith","useDropzone","getRootProps","getInputProps","Card","ref","alt","DropzoneIcon","item","paddingTop","Scorecard","items","List","dense","map","avatar","name","percentage","id","ListItem","ListItemAvatar","Avatar","src","ListItemText","primary","ListItemSecondaryAction","Typography","Predictions","output","acts","k","topK","Array","from","act","i","sort","a","b","reverse","slice","denominator","y","Math","exp","reduce","_","subID","prob","getTopK","getLabelName","toFixed","getImg","session","makeSession","theme","root","padding","demoElement","marginTop","submit","background","backgroundSize","border","borderRadius","boxShadow","shiny","animation","ModelDemo","useState","loaded","setLoaded","isLoading","setIsLoading","startLoadModel","loadModel","useRef","imgData","setImgData","useEffect","fetchImage","textData","setTextData","startedRun","setStartedRun","outputMap","startRunModel","outputData","values","next","value","data","Container","Grid","container","spacing","xs","Button","onClick","style","left","transform","TextField","label","variant","onChange","event","target","align","panel","examplecard","maxWidth","memetitletext","fontFamily","detailtext","shinypanel","App","motivationalLeo1","imgLeo","setImgLeo","CssBaseline","Paper","textAlign","ratio","frameBorder","allow","allowFullScreen","gutterBottom","autoPlay","indicators","timeout","navButtonsAlwaysVisible","navButtonsAlwaysInvisible","href","rel","motivationalLeo2","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","model_url","split","p","charAt","toUpperCase","join","labelName","InferenceSession","backendHint","warmupModel","wait","ms","Promise","res","rej","global","setTimeout","imgConfig","maxHeight","cover","crop","crossOrigin","orientation","getImage","url","loadImage","img","setData","current","Error","ctx","getContext","drawImage","getImageData"],"mappings":"gKAAe,K,4MCAA,G,OAAA,IAA0B,iDCA1B,MAA0B,gD,8FCKnCA,EAAYC,YAAW,CACzBC,KAAM,CACFC,MAAO,MACPC,OAAQ,MACRC,MAAO,UAIA,cAAiC,IAA/BC,EAA8B,EAA9BA,WAAYC,EAAkB,EAAlBA,aACnBC,EAAUR,IAChB,OAAIM,EAAqB,KACrBC,EAAuB,cAAC,IAAD,CAAiBE,UAAWD,EAAQN,OACxD,cAAC,IAAD,CAAiBO,UAAWD,EAAQN,Q,iBCXzCF,EAAYC,YAAW,CACzBS,KAAM,CACJP,MAAO,QACPC,OAAQ,QACRO,SAAU,WACVC,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,aAAc,IAEhBC,OAAQ,CACNb,MAAO,QACPC,OAAQ,QACRa,OAAQ,EACRN,SAAU,YAEZO,MAAO,CACLD,OAAQ,KACRN,SAAU,cAID,SAASQ,EAAT,GAA0D,IAAlCC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,UAAWf,EAAa,EAAbA,WACnDE,EAAUR,IACVsB,EAASC,uBAAY,SAAAC,GACzB,GAAIA,EAAcC,OAAS,EACzB,OAAOC,QAAQC,IAAI,sCAErB,GAA6B,IAAzBH,EAAcC,OAAlB,CACA,IAAMG,EAAOJ,EAAc,GAC3B,IAAKI,EAAKC,KAAKC,WAAW,SACxB,OAAOJ,QAAQC,IAAI,yBAErBD,QAAQC,IAAI,gBACZD,QAAQC,IAAIC,GACZR,EAAQQ,MACP,CAACR,IAdkE,EAelBW,YAAY,CAACT,WAA1DU,EAf+D,EAe/DA,aAAcC,EAfiD,EAejDA,cAAe1B,EAfkC,EAelCA,aAEpC,OACE,eAAC2B,EAAA,EAAD,2BAAUF,KAAV,IAA0BvB,UAAWD,EAAQE,KAA7C,UACE,wBAAQD,UAAWD,EAAQQ,OAAQmB,IAAKd,EAAWlB,MAAO,QAASC,OAAQ,UAC3E,mCAAOgC,IAAI,iBAAiBP,KAAK,QAAQpB,UAAWD,EAAQU,OAAWe,MACvE,cAACI,EAAD,CAAc/B,WAAYA,EAAYC,aAAcA,QCjD3C,OACX,eACA,sBACA,WACA,iCACA,cACA,qBACA,qBACA,uBACA,mBACA,gBACA,iBACA,cACA,uBACA,oBACA,mBACA,WACA,2BACA,YACA,iBACA,WACA,mBACA,iBACA,mBACA,cACA,aACA,iBACA,kBACA,8BACA,gBACA,aACA,iBACA,6BACA,eACA,eACA,gBACA,sBACA,kBACA,oBACA,mBACA,qBACA,qBACA,mBACA,aACA,QACA,cACA,mBACA,eACA,kBACA,qBACA,kBACA,uBACA,WACA,WACA,aACA,sBACA,aACA,gBACA,SACA,UACA,iBACA,qBACA,mBACA,oBACA,WACA,iBACA,4BACA,iBACA,kBACA,kBACA,eACA,aACA,yBACA,8BACA,oBACA,gBACA,UACA,SACA,SACA,0BACA,aACA,WACA,SACA,QACA,SACA,eACA,QACA,OACA,UACA,iBACA,SACA,yBACA,QACA,QACA,wBACA,kBACA,mBACA,cACA,WACA,SACA,WACA,SACA,WACA,WACA,qBACA,mBACA,sBACA,aACA,WACA,MACA,UACA,aACA,gBACA,8BACA,kBACA,qBACA,aACA,cACA,SACA,UACA,2B,sDC7GEP,EAAYC,YAAW,CACzBS,KAAM,CACFN,OAAQ,QAEZkC,KAAM,CACFC,WAAY,MAIL,SAASC,EAAT,GAA6B,IAATC,EAAQ,EAARA,MACzBjC,EAAUR,IAChB,OAAO,cAACkC,EAAA,EAAD,CAAMzB,UAAWD,EAAQE,KAAzB,SAA+B,cAACgC,EAAA,EAAD,CAAMC,OAAK,EAAX,SACjCF,EAAMG,KAAI,YAAiC,IAA/BC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,WACjBC,EAAE,UAAMF,EAAN,YAAcC,GACtB,OAAO,eAACE,EAAA,EAAD,CAAmBxC,UAAWD,EAAQ8B,KAAtC,UACH,cAACY,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,CACIf,IAAG,mBAAcU,GACjBM,IAAKP,MAGb,cAACQ,EAAA,EAAD,CAAcL,GAAIA,EAAIM,QAASR,IAC/B,cAACS,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,WAAaT,EAAb,WATcC,U,YCAnB,SAASS,EAAT,GAAgC,IAAVC,EAAS,EAATA,OACjC,IAAKA,EAAQ,OAAO,KACpB,I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","file":"static/js/main.b6b8e5a1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/dogs-resnet18.1eb870d4.onnx\";","export default __webpack_public_path__ + \"static/media/motivational-leo-v1.ef976b8d.png\";","export default __webpack_public_path__ + \"static/media/motivational-leo-v2.7c71dc7b.png\";","import React from 'react';\nimport InsertPhotoIcon from '@material-ui/icons/InsertPhoto';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    icon: {\n        width: '50%',\n        height: '50%',\n        color: 'grey',\n    },\n});\n\nexport default ({fileLoaded, isDragActive}) => {\n    const classes = useStyles();\n    if (fileLoaded) { return null; }\n    if (isDragActive) { return <CheckCircleIcon className={classes.icon} />; }\n    return <InsertPhotoIcon className={classes.icon} />;\n}\n","import React, {useCallback} from 'react';\nimport DropzoneIcon from './DropzoneIcon'\nimport {useDropzone} from 'react-dropzone';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\n\nconst useStyles = makeStyles({\n    card: {\n      width: '299px',\n      height: '299px',\n      position: 'relative',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      marginBottom: 10,\n    },\n    canvas: {\n      width: '299px',\n      height: '299px',\n      zIndex: 0,\n      position: 'absolute',\n    },\n    input: {\n      zIndex: 9999,\n      position: 'absolute',\n    },\n});\n\nexport default function DropImageCard({setFile, canvasRef, fileLoaded}) {\n  const classes = useStyles();\n  const onDrop = useCallback(acceptedFiles => {\n    if (acceptedFiles.length > 1) {\n      return console.log('Can only upload one file at a time');\n    }\n    if (acceptedFiles.length === 0) return;\n    const file = acceptedFiles[0];\n    if (!file.type.startsWith('image')) {\n      return console.log('File must be an image');\n    }\n    console.log('uploaded pic');\n    console.log(file);\n    setFile(file);\n  }, [setFile])\n  const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\n\n  return (\n    <Card {...getRootProps()} className={classes.card}>\n      <canvas className={classes.canvas} ref={canvasRef} width={'299px'} height={'299px'} />\n      <input alt=\"Image Dropzone\" type=\"image\" className={classes.input} {...getInputProps()} />\n      <DropzoneIcon fileLoaded={fileLoaded} isDragActive={isDragActive} />\n    </Card>\n  )\n}\n","export default [\n    'Afghan_hound',\n    'African_hunting_dog',\n    'Airedale',\n    'American_Staffordshire_terrier',\n    'Appenzeller',\n    'Australian_terrier',\n    'Bedlington_terrier',\n    'Bernese_mountain_dog',\n    'Blenheim_spaniel',\n    'Border_collie',\n    'Border_terrier',\n    'Boston_bull',\n    'Bouvier_des_Flandres',\n    'Brabancon_griffon',\n    'Brittany_spaniel',\n    'Cardigan',\n    'Chesapeake_Bay_retriever',\n    'Chihuahua',\n    'Dandie_Dinmont',\n    'Doberman',\n    'English_foxhound',\n    'English_setter',\n    'English_springer',\n    'EntleBucher',\n    'Eskimo_dog',\n    'French_bulldog',\n    'German_shepherd',\n    'German_short-haired_pointer',\n    'Gordon_setter',\n    'Great_Dane',\n    'Great_Pyrenees',\n    'Greater_Swiss_Mountain_dog',\n    'Ibizan_hound',\n    'Irish_setter',\n    'Irish_terrier',\n    'Irish_water_spaniel',\n    'Irish_wolfhound',\n    'Italian_greyhound',\n    'Japanese_spaniel',\n    'Kerry_blue_terrier',\n    'Labrador_retriever',\n    'Lakeland_terrier',\n    'Leonberger',\n    'Lhasa',\n    'Maltese_dog',\n    'Mexican_hairless',\n    'Newfoundland',\n    'Norfolk_terrier',\n    'Norwegian_elkhound',\n    'Norwich_terrier',\n    'Old_English_sheepdog',\n    'Pekinese',\n    'Pembroke',\n    'Pomeranian',\n    'Rhodesian_ridgeback',\n    'Rottweiler',\n    'Saint_Bernard',\n    'Saluki',\n    'Samoyed',\n    'Scotch_terrier',\n    'Scottish_deerhound',\n    'Sealyham_terrier',\n    'Shetland_sheepdog',\n    'Shih-Tzu',\n    'Siberian_husky',\n    'Staffordshire_bullterrier',\n    'Sussex_spaniel',\n    'Tibetan_mastiff',\n    'Tibetan_terrier',\n    'Walker_hound',\n    'Weimaraner',\n    'Welsh_springer_spaniel',\n    'West_Highland_white_terrier',\n    'Yorkshire_terrier',\n    'affenpinscher',\n    'basenji',\n    'basset',\n    'beagle',\n    'black-and-tan_coonhound',\n    'bloodhound',\n    'bluetick',\n    'borzoi',\n    'boxer',\n    'briard',\n    'bull_mastiff',\n    'cairn',\n    'chow',\n    'clumber',\n    'cocker_spaniel',\n    'collie',\n    'curly-coated_retriever',\n    'dhole',\n    'dingo',\n    'flat-coated_retriever',\n    'giant_schnauzer',\n    'golden_retriever',\n    'groenendael',\n    'keeshond',\n    'kelpie',\n    'komondor',\n    'kuvasz',\n    'malamute',\n    'malinois',\n    'miniature_pinscher',\n    'miniature_poodle',\n    'miniature_schnauzer',\n    'otterhound',\n    'papillon',\n    'pug',\n    'redbone',\n    'schipperke',\n    'silky_terrier',\n    'soft-coated_wheaten_terrier',\n    'standard_poodle',\n    'standard_schnauzer',\n    'toy_poodle',\n    'toy_terrier',\n    'vizsla',\n    'whippet',\n    'wire-haired_fox_terrier',\n];\n","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    card: {\n        height: 'auto',\n    },\n    item: {\n        paddingTop: 10,\n    },\n});\n\nexport default function Scorecard({items}) {\n    const classes = useStyles();\n    return <Card className={classes.card}><List dense>\n        {items.map(({avatar, name, percentage}) => {\n            const id = `${name}-${percentage}`\n            return <ListItem key={id} className={classes.item}>\n                <ListItemAvatar>\n                    <Avatar\n                        alt={`image of ${name}`}\n                        src={avatar}\n                    />\n                </ListItemAvatar>\n                <ListItemText id={id} primary={name} />\n                <ListItemSecondaryAction>\n                    <Typography>{percentage}%</Typography>\n                </ListItemSecondaryAction>\n            </ListItem>\n        })}\n    </List></Card>;\n};\n","import React from 'react';\nimport classes from './classes'\nimport Scorecard from './Scorecard';\nimport { getImg, getLabelName } from './utils';\n\nconst getTopK = (acts, k) => {\n    const topK = Array.from(acts)\n        .map((act, i) => [act, i])\n        .sort((a, b) => {\n            if (a[0] < b[0]) return -1;\n            if (a[0] > b[0]) return 1;\n            return 0;\n        })\n        .reverse()\n        .slice(0, k)\n\n    // denominator of softmax function\n    const denominator = acts.map(y => Math.exp(y)).reduce((a,b) => a+b)\n    return topK.map(([act, i], _, acts) => ({\n        subID: classes[i],\n        act,\n        prob: Math.exp(act) / denominator,\n    }));\n}\n\nexport default function Predictions({output}) {\n    if (!output) return null;\n    const items = getTopK(output, 5).map(({subID, prob}) => ({\n        name: getLabelName(subID),\n        percentage: (prob * 100).toFixed(2),\n        avatar: getImg(getLabelName(subID)),\n    }));\n    return <Scorecard items={items} />;\n}\n","import React, {useRef, useEffect, useState} from 'react';\nimport Container from '@material-ui/core/Container';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport DropImageCard from './DropImageCard'\nimport Predictions from './Predictions'\nimport { fetchImage, makeSession, loadModel, runModel } from './utils'\n\nconst session = makeSession();\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: '15px 30px',\n  },\n  demoElement: {\n    marginTop: '10px',\n    marginBottom: '10px',\n    width: '100%',\n  },\n  submit: {\n    background: 'linear-gradient(45deg, #d08771, #c85b85)',\n    backgroundSize: '200% 200%',\n    border: 0,\n    borderRadius: 3,\n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .1)',\n    color: 'white',\n    height: 48,\n    padding: '0 30px',\n  },\n  shiny: {\n    // I wonder if I can randomize the color lmao\n    background: 'linear-gradient(45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab)',\n    backgroundSize: '400% 400%',\n    animation: '$gradient 15s ease infinite',\n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .5)',\n  },\n  '@keyframes gradient': {\n  \t'0%': {\n  \t\t'background-position': '0% 50%',\n  \t},\n  \t'50%': {\n  \t\t'background-position': '100% 50%',\n  \t},\n  \t'100%': {\n  \t\t'background-position': '0% 50%',\n  \t},\n  }\n}));\n\nexport default function ModelDemo() {\n  const [loaded, setLoaded] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const startLoadModel = async () => {\n    if (isLoading || loaded) { return; }\n    setIsLoading(true);\n    await loadModel(session);\n    setLoaded(true);\n    setIsLoading(false);\n  }\n\n  const [file, setFile] = useState(null)\n  const canvas = useRef(null)\n  const [imgData, setImgData] = useState(null)\n  useEffect(() => {\n        if (file) fetchImage(file, canvas, setImgData);\n    }, [file])\n\n  const [textData, setTextData] = useState(\"\")\n  const handleTextChange = (event) => {\n    setTextData(event.target.value);\n  };\n\n  const [startedRun, setStartedRun] = useState(null);\n  const [outputMap, setOutputMap] = useState(null);\n  const startRunModel = async () => {\n    // if (!loaded || !imgData || !(textData.length>0)) return;\n    // setStartedRun(true);\n    console.log('clicked start button!');\n    console.log('image data: ')\n    console.log(imgData);\n    console.log('text data: '+textData);\n    // runModel(session, imgData, textData, setOutputMap);\n  };\n  useEffect(() => {\n    if (!loaded) return;\n    setStartedRun(false);\n  }, [outputMap, imgData, textData]); // runs when loaded or data changes\n  const outputData = outputMap && outputMap.values().next().value.data;\n\n  const classes = useStyles();\n  return (\n    <Container className={classes.root}>\n      <Grid container spacing={3}>\n        <Grid item xs={4}>\n          <Button className={`${classes.demoElement} ${classes.submit} ${classes.shiny}`} onClick={startRunModel}>TODO use CONSOLE, DELETE LATER</Button>\n          { !loaded && !isLoading && (<Button className={`${classes.demoElement} ${classes.submit}`} onClick={startLoadModel}>Load model (TODO 40 MB)</Button>) }\n          { !loaded && isLoading && (<Button className={`${classes.demoElement} ${classes.submit}`}>Loading model...</Button>) }\n          { loaded && !file && (<Button className={`${classes.demoElement} ${classes.submit}`}>Need to upload image</Button>) }\n          { loaded && file && !imgData && (<Button className={`${classes.demoElement} ${classes.submit}`}>Loading image...</Button>) }\n          { loaded && file && imgData && !(textData.length>0) && (<Button className={`${classes.demoElement} ${classes.submit}`}>Need to add text</Button>) }\n          { loaded && file && imgData && (textData.length>0) && !startedRun && (<Button className={`${classes.demoElement} ${classes.submit} ${classes.shiny}`} onClick={startRunModel}>WHERE SHOULD I POST THIS?</Button>) }\n          { loaded && startedRun && (<Button className={`${classes.demoElement} ${classes.submit}`}>Running model...</Button>) }\n          <Predictions output={outputData} className={classes.demoElement} />\n        </Grid>\n        <Grid item xs={8}>\n          <div style={{ display:'inline-block', position: 'relative', left: '50%', transform: 'translate(-50%, 0)' }}>\n            <DropImageCard setFile={setFile} canvasRef={canvas} fileLoaded={!!file} className={classes.demoElement} />\n          </div>\n          <TextField id=\"outlined-basic\" label=\"Meme Title\" variant=\"outlined\" value={textData} onChange={handleTextChange} className={classes.demoElement} />\n        </Grid>\n      </Grid>\n    </Container>\n  )\n}\n","import React, { useState } from 'react';\nimport Container from '@material-ui/core/Container';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport 'react-aspect-ratio/aspect-ratio.css'\nimport AspectRatio from 'react-aspect-ratio';\nimport Carousel from 'react-material-ui-carousel'\nimport Image from 'material-ui-image'\n\nimport \"fontsource-roboto\"\nimport motivationalLeo1 from './../img/motivational-leo-v1.png'\nimport motivationalLeo2 from './../img/motivational-leo-v2.png'\n\nimport ModelDemo from './ModelDemo'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    align: 'center',\n  },\n  panel: {\n    padding: '15px 30px',\n    marginTop: '20px',\n    marginBottom: '20px',\n  },\n  examplecard: {\n    padding: '10px 30px',\n    position: 'relative',\n    left: '50%',\n    transform: 'translate(-50%, 0)',\n    maxWidth: '80%',\n  },\n  memetitletext: {\n    fontFamily: 'Comic Sans MS, Comic Sans, Comic Neue, cursive',\n  },\n  detailtext: {\n    padding: '10px 30px',\n    marginTop: '15px',\n    marginBottom: '15px',\n  },\n  shinypanel: {\n    background: 'linear-gradient(45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab)',\n    backgroundSize: '400% 400%',\n    animation: '$gradient 15s ease infinite',\n  },\n  '@keyframes gradient': {\n  \t'0%': {\n  \t\t'background-position': '0% 50%',\n  \t},\n  \t'50%': {\n  \t\t'background-position': '100% 50%',\n  \t},\n  \t'100%': {\n  \t\t'background-position': '0% 50%',\n  \t},\n  }\n}));\n\nexport default function App() {\n  const classes = useStyles();\n\n  const [imgLeo, setImgLeo] = useState(motivationalLeo1)\n  const toggleLeo = (event) => {\n    if (imgLeo==motivationalLeo1) {\n      setImgLeo(motivationalLeo2);\n    } else {\n      setImgLeo(motivationalLeo1);\n    }\n  };\n\n  return (\n    <Container className={classes.root}>\n      <CssBaseline />\n      <Paper className={`${classes.panel} ${classes.shinypanel}`} style={{ textAlign:'center' }}>\n        <Typography variant=\"h1\" className={classes.memetitletext}>\n          MemeNet\n        </Typography>\n        <Typography variant=\"h4\" className={classes.memetitletext}>\n          Multimodal Models Make Meme Market Manageable\n        </Typography>\n      </Paper>\n      <Paper className={classes.panel}>\n        <Typography>\n          Artificial Intelligence (A.I.) has been applied in areas such as\n          economics and algorithmic trading to great effect. In recent decades,\n          the rise of viral Internet culture has led to the development of a new\n          global economy: the online \"meme economy\". Drawing from scarce resources\n          (such as creativity, humor, and time), individual producers (meme\n          makers) offer their goods (memes in the form of multimodal ideas) over a\n          centralized marketplace (Internet forums such as subreddits on Reddit)\n          in exchange for currency (Internet points such as Upvotes or Likes).\n          Oftentimes, knowing <em>where</em> to post a meme can greatly affect how\n          well it is received by the Internet community. Posting in a highly apt\n          channel can lead to instant Internet fame, while posting in a suboptimal\n          channel can lead to one's creative work failing to gain attention, or\n          worse, being stolen and reposted by meme thieves. Additionally, posting\n          the same content in several different channels can be considered\n          &quot;spamming&quot; and is negatively regarded. To make this decision easier for\n          the millions of meme creators on the Internet, <strong>we developed a\n          multimodal neural network to predict the single best subreddit that a\n          given meme should be posted to for maximum profit</strong>.\n        </Typography>\n      </Paper>\n      <Paper className={classes.panel} style={{ textAlign:'center' }}>\n        <AspectRatio ratio=\"16 / 9\" style={{ maxWidth: '60%', left: '50%', transform: 'translate(-50%, 0)' }}>\n          <iframe\n            src=\"https://www.youtube-nocookie.com/embed/bZe5J8SVCYQ\"\n            frameBorder=\"0\"\n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n            allowFullScreen>\n          </iframe>\n        </AspectRatio>\n      </Paper>\n      <Paper className={classes.panel}>\n        <Typography variant=\"h4\" style={{ textAlign:'center' }} gutterBottom>\n          Examples\n        </Typography>\n        <Container>\n          <Carousel\n            autoPlay={false}\n            animation={\"slide\"}\n            indicators={true}\n            timeout={500}\n            navButtonsAlwaysVisible={true}\n            navButtonsAlwaysInvisible={false}\n          >\n            {\n              [\n                <Paper className={classes.examplecard}>\n                  <Typography>\n                    PAGE 1:\n                  </Typography>\n                  <img\n                    style={{ width:'256px', 'height':'256px' }}\n                    src=\"https://i.pinimg.com/474x/7c/4d/15/7c4d1533480bb4c5911d95699fef5186.jpg\"\n                  />\n                </Paper>,\n                <Paper className={classes.examplecard}>\n                  <Typography>\n                    PAGE 2:\n                  </Typography>\n                  <img\n                    style={{ width:'256px', 'height':'256px' }}\n                    src=\"https://i.pinimg.com/474x/1b/e4/94/1be494c3c065c9c97da3231f7303ee85.jpg\"\n                  />\n                </Paper>,\n                <Paper className={classes.examplecard}>\n                  <Typography>\n                    PAGE 3:\n                  </Typography>\n                  <img\n                    style={{ width:'256px', 'height':'256px' }}\n                    src=\"https://i.pinimg.com/564x/32/58/ba/3258bafbefbc616c5736347001d9bb15.jpg\"\n                  />\n                </Paper>\n              ]\n            }\n          </Carousel>\n        </Container>\n      </Paper>\n      <Paper className={`${classes.panel} ${classes.shinypanel}`}>\n        <Typography variant=\"h4\" style={{ textAlign:'center' }} gutterBottom>\n          Try It Yourself!\n        </Typography>\n        <Paper style={{ background: '#EBEBEB' }}>\n          <Container>\n            <ModelDemo />\n          </Container>\n        </Paper>\n      </Paper>\n      <Paper className={classes.panel}>\n        <Typography variant=\"h4\" style={{ textAlign:'center' }} gutterBottom>\n          Behind The Scenes\n        </Typography>\n        <Paper className={classes.detailtext}>\n          <Typography variant=\"h5\" style={{ textAlign:'center' }} gutterBottom>\n            Abstract\n          </Typography>\n          <Typography>\n            Deep neural networks are excellent at learning from data that consists\n            of single modalities. For example, convolutional neural networks are\n            highly performant on image classification, and sequence models are the\n            state-of-the-art for text generation. However, media such as Internet\n            memes often consist of multiple modalities. A meme may have an image\n            component and a text component, each of which contribute information\n            about what the meme is trying to convey. To extract features from\n            multimodal data, we leverage multimodal deep learning, in which we use\n            multiple feature extractor networks to learn the separate modes\n            individually, and an aggregator network to combine the features to\n            produce the final output classification. We scrape Reddit meme\n            subreddits for post data, including: subreddit name, upvote/downvote\n            count, images, meme text via OCR (or human OCR), and post titles. We\n            construct a train and test set and evaluate results using a\n            precision/accuracy measure for subreddit name predictions. To optimize\n            our model, we use FAIRâ€™s open source multimodal library, Pythia/MMF\n            (<a href=\"https://mmf.sh/\" rel=\"nofollow\">https://mmf.sh/</a>), and try\n            a variety of model architectures and hyperparameters. Finally, we include\n            our best model for demonstration purposes.\n          </Typography>\n        </Paper>\n        <Paper className={classes.detailtext}>\n          <Typography variant=\"h5\" style={{ textAlign:'center' }} gutterBottom>\n            Methodology\n          </Typography>\n          <Typography>\n            Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n            blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n            Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n            blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n            Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n            blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n            Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n            blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n          </Typography>\n        </Paper>\n        <Paper className={classes.detailtext}>\n          <Typography variant=\"h5\" style={{ textAlign:'center' }} gutterBottom>\n            Experiments\n          </Typography>\n          <Typography>\n            Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n            blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n            Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n            blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n            Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n            blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n            Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n            blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n          </Typography>\n        </Paper>\n        <Paper className={classes.detailtext}>\n          <Typography variant=\"h5\" style={{ textAlign:'center' }} gutterBottom>\n            Results\n          </Typography>\n          <Typography>\n            Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n            blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n            Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n            blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n            Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n            blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n            Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n            blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n          </Typography>\n        </Paper>\n      </Paper>\n      <Paper className={classes.panel}>\n        <Typography variant=\"h4\" style={{ textAlign:'center' }} gutterBottom>\n          Related Work\n        </Typography>\n        <Typography>\n          Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n          blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n          Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n          blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n          Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n          blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n          Bla bla bla Blaaaaa bla bla blah blaah blah Blah blaaah Blaaah Bla bla Blah\n          blah Blah blaaah Blaaah Bla bla Blahbla bla blah blaah blah blaaah Blaaah\n        </Typography>\n      </Paper>\n      <Paper className={`${classes.panel} ${classes.shinypanel}`}>\n        <Container style={{ width:\"40%\" }}>\n          <Image\n            src={imgLeo}\n            color=\"transparent\"\n            onClick={toggleLeo}\n            style={{ height:\"100px\" }}\n          />\n        </Container>\n      </Paper>\n    </Container>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import loadImage from 'blueimp-load-image';\nimport { Tensor, InferenceSession } from 'onnxjs';\nimport ndarray from 'ndarray';\nimport ops from 'ndarray-ops';\nimport model from '../dogs-resnet18.onnx';\n\nconst model_url = 'https://homes.cs.washington.edu/~jyzhou15/mobilenetv2-7.onnx'\n// const model_url = '../mobilenetv2-7.onnx'\n\nexport const getLabelName = className => className.split('_').map(p => {\n  return p.charAt(0).toUpperCase() + p.slice(1)\n}).join(' ')\n\nexport const getImg = (labelName) => {\n  return 'https://i.redd.it/vb4uq6nipk251.jpg'\n}\n\nexport const makeSession = (() => {\n  let _session = null;\n  return () => {\n    if (_session !== null) {\n      return _session;\n    }\n    return new InferenceSession({\n      backendHint: 'webgl'\n    });\n  }\n})()\n\nasync function warmupModel(session) {\n  // TODO does this even make sense to run for our model?\n  // const dims = [1, 3, 299, 299];\n  // const size = dims.reduce((a, b) => a * b);\n  // const warmupTensor = new Tensor(new Float32Array(size), 'float32', dims);\n  // for (let i = 0; i < size; i++) {\n  //     warmupTensor.data[i] = Math.random() * 2.0 - 1.0; // random value [-1.0, 1.0)\n  // }\n  // await session.run([warmupTensor]);\n}\n\nexport async function loadModel(session) {\n  // TODO replace with load model\n  await session.loadModel(model_url);\n  await warmupModel(session);\n}\n\nasync function _runModel(session, imgInput, textInput, setOutputMap) {\n  const {\n    width,\n    height\n  } = imgInput;\n  // TODO modify\n  const data = preprocess(imgInput);\n  const imgInputTensor = new Tensor(data, 'float32', [1, 3, width, height]);\n  // await wait(0);\n  const outputMap = await session.run([imgInputTensor]);\n  setOutputMap(outputMap);\n}\n\nexport function runModel(session, imgInput, textInput, setOutputMap) {\n  setTimeout(() => _runModel(session, imgInput, textInput, setOutputMap), 10);\n}\n\n// borrowed from onnx.js example: https://github.com/microsoft/onnxjs/blob/4085b7e61804d093e36af6a456d8c14c329f0a0a/examples/browser/resnet50/index.js#L29\nconst preprocess = input => {\n  // rescale images to 3x256x256\n  console.log(input)\n  const {\n    data,\n    width,\n    height\n  } = input\n\n  // data processing\n  const dataTensor = ndarray(new Float32Array(data), [width, height, 4]);\n  const dataProcessedTensor = ndarray(new Float32Array(width * height * 3), [1, 3, width, height]);\n  ops.assign(dataProcessedTensor.pick(0, 0, null, null), dataTensor.pick(null, null, 0));\n  ops.assign(dataProcessedTensor.pick(0, 1, null, null), dataTensor.pick(null, null, 1));\n  ops.assign(dataProcessedTensor.pick(0, 2, null, null), dataTensor.pick(null, null, 2));\n  ops.divseq(dataProcessedTensor, 255);\n  ops.subseq(dataProcessedTensor.pick(0, 0, null, null), 0.485);\n  ops.subseq(dataProcessedTensor.pick(0, 1, null, null), 0.456);\n  ops.subseq(dataProcessedTensor.pick(0, 2, null, null), 0.406);\n  ops.divseq(dataProcessedTensor.pick(0, 0, null, null), 0.229);\n  ops.divseq(dataProcessedTensor.pick(0, 1, null, null), 0.224);\n  ops.divseq(dataProcessedTensor.pick(0, 2, null, null), 0.225);\n\n  console.log(dataProcessedTensor);\n\n  return dataProcessedTensor.data;\n}\n\nconst wait = ms => new Promise((res, rej) => {\n  global.setTimeout(() => res(), ms)\n});\n\nconst imgConfig = {\n  maxWidth: 299,\n  maxHeight: 299,\n  cover: true,\n  crop: true,\n  canvas: true,\n  crossOrigin: 'Anonymous',\n  orientation: true,\n};\n\nconst getImage = url => new Promise((res, rej) => {\n  loadImage(url, img => res(img), imgConfig)\n});\n\nexport const fetchImage = async (url, canvas, setData) => {\n  if (!canvas || !canvas.current) return;\n  const img = await getImage(url);\n  if (img.type === \"error\") throw new Error(\"could not load image\");\n  const ctx = canvas.current.getContext('2d');\n  ctx.drawImage(img, 0, 0);\n  await wait(1);\n  const data = ctx.getImageData(0, 0, canvas.current.width, canvas.current.height);\n  console.log('in fetchImage,');\n  console.log(canvas.current.width+' '+canvas.current.height)\n  console.log(data)\n  setData(data);\n};\n"],"sourceRoot":""}